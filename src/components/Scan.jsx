import { useState } from "react";
import { FileUploader } from "react-drag-drop-files";
import { uploadAndScanFiles } from "./utils/axiosInstance";

const Scan = () => {
    const [file, setFile] = useState(null);
    const handleChange = (file) => {
        setFile(file);
        console.log(file);
    };
    const fileTypes = ["zip", "js"];

    const [isFileSelected, setIsFileSelected] = useState(false);

    const uploadFile = (event) => {
        setIsFileSelected(true);
        uploadAndScanFiles(event.target.value)
    }

    return <>
        {/* <FileUploader handleChange={handleChange} className="w-100" name="file" types={fileTypes} /> */}
        <input type="file" onChange={uploadFile} onSelect={uploadFile} />
        <button className="btn btn-primary mt-3" onClick={uploadFile} disabled={!isFileSelected}>Upload</button>
    </>
}

export default Scan;