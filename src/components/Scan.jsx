import { useState } from "react";
import { FileUploader } from "react-drag-drop-files";
import { uploadAndScanFiles } from "./utils/axiosInstance";

const Scan = () => {
    const [file, setFile] = useState(null);

    const [isFileSelected, setIsFileSelected] = useState(false);

    const selectFile = async (event) => {
        setIsFileSelected(true);
        setFile(event.target);
    }

    const uploadFile = async () => {
        const data = await uploadAndScanFiles(file.files[0], file.value);
        console.log(data);
    }

    return <div className="d-flex align-items-center justify-content-center mt-5">
        <input type="file" onChange={selectFile} />
        <button className="btn btn-primary" onClick={uploadFile} disabled={!isFileSelected}>Upload</button>
    </div>
}

export default Scan;